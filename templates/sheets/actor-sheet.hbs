<form class="{{cssClass}} flexcol" autocomplete="off">

    <div class="eb-player-name">{{actor.system.playerName}}</div>

    <header class="eb-card sheet-header">

        <div class="eb-infos-wrapper">
            {{!-- NAME WRAP --}}
            <div class="eb-name-wrapper">

                <h1 class="char">
                    <input name="character" type="text" value="{{actor.name}}" placeholder="Character"
                        data-dtype="String" autocomplete="new-password" />
                </h1>
                <h2 class="failed-career">
                    <input name="system.failedCareer" type="text" value="{{actor.system.failedCareer}}"
                        placeholder="{{localize 'EB.Sheet.FailedCareer'}}" data-dtype="String" />
                </h2>
            </div>


            {{!-- MAIN STATS --}}
            <div class="eb-main-stat-wrapper">

                {{!-- HP --}}
                <div class="eb-main-stat eb-hp resource flexrow flex-group-center">
                    <div class="flexcol">
                        <label for="systemData.hp.value" class="resource-label">{{localize 'EB.Sheet.Hitpoints'}}
                        </label>
                        <div class="resource-content flexrow flex-center flex-between">
                            <input type="number" name="system.hp.value" value="{{systemData.hp.value}}"
                                data-dtype="Number" />
                            <span> / </span>
                            <input type="number" name="system.hp.max" value="{{systemData.hp.max}}"
                                data-dtype="Number" />
                        </div>
                    </div>
                </div>


                {{!-- Pounds --}}
                <div class="eb-main-stat eb-wealth resource flexrow flex-group-center">
                    <div class="flexcol">
                        <label for="data.pounds" class="resource-label">{{localize 'EB.Sheet.Wealth'}}</label>
                        <div class="resource-content flexrow flex-center flex-between">
                            <input type="number" name="system.pounds" value="{{systemData.pounds}}"
                                data-dtype="Number" /> <span class="currency">&#163;</span>
                        </div>
                    </div>
                </div>


                {{!-- Armor --}}
                <div class="eb-main-stat eb-armor resource flexrow flex-group-center">
                    <div class="flexcol">
                        <label for="data.armor" class="resource-label">{{localize 'EB.Sheet.Armor'}}</label>
                        <div class="resource-content flexrow flex-center flex-between">
                            <input type="number" name="system.armor" value="{{systemData.armor}}" data-dtype="Number" />
                        </div>
                    </div>
                </div>


                {{!-- Deprived --}}
                <div class="eb-main-stat eb-deprived resource flexrow flex-group-center">
                    <div class="flexcol">
                        <label class="resource-label">{{localize 'EB.Sheet.Deprived'}}</label>
                        <input type="checkbox" name="system.deprived" {{#if systemData.deprived}}checked{{/if}}
                            data-dtype="Boolean" data-action="submit" />
                    </div>
                </div>



            </div>
        </div>

        {{!-- IMAGE --}}
        <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="170" width="170" />

    </header>

    {{!-- MAIN ABILITIES --}}
    <div class="eb-main-abilities">
        {{#each systemData.abilities as |ability key|}}
        <div class="ability flexrow flex-group-center eb-card">
            <div class="flexcol">
                <label for="systemData.abilities.{{key}}.value" class="resource-label" data-label="Ability 1">
                    <span>{{fullName}}</span>
                </label>
                <div class="flexrow eb-value-row">
                    <input type="number" name="system.abilities.{{key}}.value" value="{{ability.value}}"
                        autocomplete="new-password" data-dtype="Number" /> <span> / </span>
                    <input type="number" name="system.abilities.{{key}}.max" value="{{ability.max}}"
                        autocomplete="new-password" data-dtype="Number" />
                </div>

                <button type="button" class="resource-button rollable" data-action="roll.stat" data-roll="1d20"
                    data-ability-key="{{key}}" data-ability-name="{{fullName}}">
                    <span>{{localize 'EB.Sheet.Roll'}}</span>
                    <i class="fas fa-dice-d20"></i>
                </button>

            </div>
        </div>
        {{/each}}
    </div>

    {{!-- Sheet Body --}}
    <section class="sheet-body eb-card eb-items-wrapper">
        <h3>{{localize 'EB.Sheet.Items'}}</h3>

        {{!-- Owned Items Tab --}}
        <div class="items">
            <ol class="items-list">
                {{#each actor.items as |item id|}}

                <li class="item flexrow" data-item-id="{{item.id}}">
                    <span class="eb-item-infos">

                        <span class="eb-item-quantity">
                            <input class="eb-item-input inline-item-edit" data-item-id="{{item.id}}"
                                data-field="system.quantity" type="number" value="{{item.system.quantity}}"
                                data-action="item.inlineedit" data-action-event="change" placeholder=""
                                data-dtype="Number" />
                        </span>

                        <span class="eb-item-n">
                            <input class="eb-item-input inline-item-edit" type="text" value="{{item.name}}"
                                data-item-id="{{item.id}}" data-field="item" data-action="item.inlineedit"
                                data-action-event="change" placeholder="{{localize 'EB.Item.Name'}}" />
                        </span>

                        <span class="eb-bulky-status{{#if item.system.bulky}} active{{/if}}">
                            {{localize 'EB.Item.Bulky'}}
                        </span>

                        <span class="eb-item-damage-formula">
                            <input class="eb-item-input inline-item-edit" data-item-id="{{item.id}}"
                                data-field="system.damageFormula" type="text" value="{{item.system.damageFormula}}"
                                data-action="item.inlineedit" data-action-event="change"
                                placeholder="{{localize 'EB.Item.DamagePlaceholder'}}" />
                        </span>
                    </span>



                    <div class="item-controls">
                        {{#if item.system.damageFormula}}
                        <span class="item-button roll-damage" data-weapon="{{item.name}}"
                            data-roll="{{item.system.damageFormula}}" title="Roll Damage">
                            <b>{{localize 'EB.Item.Damage'}}</b> <i class="fas fa-dice-d20"></i>
                        </span>
                        {{/if}}
                        <a class="item-control item-edit" data-action="item.edit" title="Edit Item"><i
                                class="fas fa-edit"></i></a>
                        <a class="item-control item-delete" data-action="item.delete" title="Delete One Item"><i
                                class="fas fa-trash"></i></a>
                    </div>
                </li>
                {{/each}}
                <li class="item flexrow item-header eb-new-row">
                    <div class="item-controls">
                        <a class="item-control item-create" title="Create item" data-type="item">
                            <i class="fas fa-plus"></i>
                        </a>
                    </div>
                </li>
            </ol>
        </div>
    </section>

    {{!-- Sheet Body --}}
    <section class="sheet-body eb-card eb-notice-wrapper">

        <h3>{{localize 'EB.Sheet.Notices'}}</h3>

        {{!-- Biography Tab --}}
        <div class="biography">
            <div class="grow-wrap" data-replicated-value="{{systemData.biography}}">
                <textarea data-field="systemData.biography" id="biography" name="system.biography"
                    onInput="this.parentNode.dataset.replicatedValue = this.value">{{systemData.biography}}</textarea>
            </div>
        </div>


    </section>

    {{!-- ACTION BUTTONS --}}
    <div class="eb-sheet-action-buttons">

        <button type="button" class="eb-action-button rest" data-action="actor.rest"
            title="{{localize 'EB.Sheet.Rest'}}">
            {{localize 'EB.Sheet.Rest'}}
        </button>

        <button type="button" class="eb-action-button restore" data-action="actor.restore"
            title="{{localize 'EB.Sheet.RestoreAbilities'}}">
            {{localize 'EB.Sheet.RestoreAbilities'}}
        </button>

        <button type="button" class="eb-action-button luck" data-action="roll.luck"
            title="{{localize 'EB.Sheet.Luck'}}">
            {{localize 'EB.Sheet.Luck'}} <i class="fas fa-dice-d20"></i>
        </button>

    </div>
</form>